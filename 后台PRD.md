# 试玩网 Admin 后台管理系统 PRD 需求文档

## 文档信息
| 项目名称 | 试玩网 Admin 后台管理系统 |
|---------|-------------------------|
| 版本号 | V1.2 |
| 更新日期 | 2026-01-13 |
| 文档状态 | 更新版（新增内容管理模块） |

---

## 一、项目概述

### 1.1 项目背景
试玩网是一个游戏试玩平台，为用户提供各类游戏（真人、棋牌、电子、捕鱼、体育、彩票）的免费试玩体验。本文档描述后台管理系统（Admin）的功能需求。

### 1.2 项目目标
- 提供完整的游戏内容管理能力
- 实时监控试玩数据和用户转化情况
- 灵活配置下游注册跳转链接
- 安全高效的后台权限管理（IP白名单+Google验证）

### 1.3 目标用户
| 角色 | 权限范围 |
|------|---------|
| 超级管理员 | 全部权限 |
| 运营人员 | 数据查看、游戏管理、内容运营 |
| 客服人员 | 用户查看、基础操作 |

---

## 二、系统架构

### 2.1 功能模块总览

```
Admin后台
├── 登录模块（IP白名单验证 + Google验证）
├── 数据统计
│   └── 数据看板（统计卡片 + 趋势图 + 时段分析 + 排行榜）
├── 用户管理
│   ├── 后台用户（含Google密钥管理）
│   ├── 试玩用户
│   └── 注册用户
├── 游戏管理
│   ├── 游戏类别
│   ├── 游戏列表
│   ├── 已删除游戏（可恢复）
│   └── 推荐游戏（多主题）
├── 内容管理
│   ├── Banner管理（轮播图配置）
│   ├── 优惠活动（活动内容管理）
│   └── 朋友圈动态（官方动态/大舞台/公告）
├── 下游配置
│   ├── 网页配置（Web/H5注册URL）
│   ├── APP配置（iOS描述文件/Android下载）
│   └── 联系方式配置
├── 系统管理
│   ├── 网站配置
│   ├── 站内信
│   └── IP白名单（登录必须）
└── 站点管理（二期）
    └── 多域名管理批量配置推广下发
```

---

## 三、功能需求详细说明

### 3.1 登录模块

#### 3.1.1 页面说明
深色风格登录页面，金色点缀，专业感。

#### 3.1.2 登录字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| Account | 文本输入 | 是 | 管理员账号 |
| Password | 密码输入 | 是 | 登录密码 |
| Google Key | 文本输入 | 是 | Google动态验证码（6位数字） |
| Language | 下拉选择 | 否 | 语言切换：中文/English/Tiếng Việt |

#### 3.1.3 登录流程（重要）

```
1. 用户输入账号、密码、Google Key
2. 系统获取用户当前IP地址
3. 检查IP是否在白名单中
   ├── 不在白名单 → 提示"您的IP不在白名单中，请联系管理员添加后再登录"，登录失败
   └── 在白名单 → 继续验证
4. 验证账号密码是否正确
   ├── 不正确 → 提示"账号或密码错误"，登录失败
   └── 正确 → 继续验证
5. 验证Google Key是否正确
   ├── 不正确 → 提示"Google验证码错误"，登录失败
   └── 正确 → 登录成功，进入数据看板
```

> ⚠️ **重要说明**：IP白名单是登录的前置条件，只有白名单内的IP才能登录后台，这是第一道安全防线。

---

### 3.2 数据统计模块

#### 3.2.1 数据看板

##### 功能说明
展示试玩网核心运营数据，支持时间筛选，默认显示当天数据。

##### 统计卡片指标

| 指标 | 计算规则 | 展示说明 |
|------|----------|----------|
| 有效点击 | 进入网站记为一次（同一IP过滤） | 数值 + 说明文字 |
| 有效试玩 | 触发游戏接口视为一次（相同IP过滤） | 数值 + 点击率（有效试玩/有效点击×100%） |
| 注册成功 | 从试玩网注册成功的用户数 | 数值 + 转化率（注册/有效试玩×100%） |
| 试玩用户 | 累计试玩用户总数 | 数值 |
| 注册用户 | 累计注册用户总数 | 数值 |

##### 图表展示

| 图表 | 类型 | 说明 |
|------|------|------|
| 访问趋势统计 | 折线图 | X轴：日期，Y轴：数量，三条线（有效点击、有效试玩、注册成功） |
| 时段分析 | 柱状图 | X轴：24小时（00-23），Y轴：访问量，用于分析流量高峰 |
| 游戏试玩排行 | 表格 | TOP5：排名、游戏名称、试玩次数 |
| 注册来源排行 | 表格 | TOP5：排名、来源渠道、注册数、转化率 |

##### 筛选条件
- 快捷选择：今天、昨天、最近7天、最近30天
- 自定义时间范围
- 数据刷新按钮

---

### 3.3 用户管理模块

#### 3.3.1 后台用户

##### 功能说明
管理后台登录账号，分配角色权限，管理Google验证密钥。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| ID | 数字 | 自增ID |
| 账号 | 文本 | 登录账号 |
| 姓名 | 文本 | 用户姓名 |
| 角色 | 标签 | 超级管理员/运营/客服 |
| Google密钥 | 文本 | Google验证器绑定密钥（如：JBSWY3DPEHPK3PXP） |
| 最后登录IP | 文本 | 最近一次登录IP |
| 最后登录时间 | 时间 | 最近一次登录时间 |
| 状态 | 状态标签 | 正常/禁用 |
| 创建时间 | 时间 | 账号创建时间 |

##### 操作功能

| 操作 | 说明 |
|------|------|
| 新增用户 | 填写账号、姓名、密码、角色，系统自动生成Google密钥 |
| 编辑用户 | 修改姓名、角色、状态 |
| 重置密码 | 重置用户登录密码 |
| 重置密钥 | 重新生成Google验证密钥（用户需重新绑定验证器） |
| 启用/禁用 | 切换用户状态 |

##### 新增用户弹窗字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 账号 | 文本 | 是 | 登录账号，唯一 |
| 姓名 | 文本 | 是 | 用户真实姓名 |
| 密码 | 密码 | 是 | 登录密码 |
| 角色 | 下拉 | 是 | 超级管理员/运营/客服 |
| Google密钥 | 文本 | - | 系统自动生成，不可编辑 |

---

#### 3.3.2 试玩用户

##### 功能说明
记录所有试玩过游戏的访客，按设备指纹区分用户。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| 用户ID | 文本 | 系统生成的唯一标识（如：TU001） |
| 设备指纹 | 文本 | 浏览器/设备唯一标识 |
| 试玩游戏 | 文本 | 最近试玩的游戏名称 |
| 试玩时长 | 文本 | 累计试玩时长 |
| IP地址 | 文本 | 用户IP |
| 首次试玩 | 时间 | 首次试玩时间 |
| 最后试玩 | 时间 | 最近试玩时间 |
| 试玩次数 | 数字 | 累计试玩次数 |
| 是否注册 | 状态标签 | 已注册/未注册 |

##### 搜索筛选
- 用户ID
- 设备指纹
- 是否注册（下拉）
- 试玩时间范围

##### 操作功能
- 查看详情
- 查看试玩记录
- 导出数据（Excel）

---

#### 3.3.3 注册用户

##### 功能说明
管理从试玩网注册的正式用户。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| 用户ID | 文本 | 用户唯一标识（如：RU001） |
| 账号 | 文本 | 用户注册账号 |
| 手机号 | 文本 | 脱敏显示（138****1234），非必填字段 |
| 注册IP | 文本 | 注册时IP |
| 注册时间 | 时间 | 注册时间 |
| 最后登录 | 时间 | 最近登录时间 |
| 来源渠道 | 文本 | Web端/H5端/iOS/Android |
| 状态 | 状态标签 | 正常/禁用 |

##### 注册字段说明
> 用户在前端注册时需提交：
> - 账号：**必填**
> - 密码：**必填**
> - 手机号：**非必填**

##### 操作功能
- 查看详情
- 编辑用户
- 禁用/启用
- 导出数据（Excel）

---

### 3.4 游戏管理模块

#### 3.4.1 游戏类别

##### 功能说明
管理游戏分类，支持增删改查。**点击游戏数量可跳转到对应分类的游戏列表筛选结果**。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| ID | 数字 | 自增ID |
| 图标 | Emoji/图片 | 分类图标 |
| 类别名称 | 文本 | 如：真人、棋牌、电子等 |
| 代码 | 文本 | 英文代码：live、chess、slot等 |
| 游戏数量 | 数字（可点击） | 该分类下的游戏数，点击跳转游戏列表 |
| 排序 | 数字 | 显示顺序，数字越小越靠前 |
| 状态 | 状态标签 | 启用/禁用 |

##### 默认分类
| 名称 | 代码 | 图标 |
|------|------|------|
| 真人 | live | 🎰 |
| 棋牌 | chess | ♠️ |
| 电子 | slot | 🎮 |
| 捕鱼 | fish | 🐟 |
| 体育 | sport | ⚽ |
| 彩票 | lottery | 🎱 |

---

#### 3.4.2 游戏列表

##### 功能说明
管理全部试玩游戏，支持增删改查、批量操作。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| 游戏封面 | 图片 | 游戏封面图 |
| 游戏名称 | 文本 | 游戏显示名称 |
| 游戏类别 | 文本 | 所属分类 |
| 游戏厂商 | 文本 | 游戏供应商（AG/BBIN/PG/CQ9等） |
| 排序 | 数字 | 显示顺序 |
| 热门 | 开关 | 是否热门推荐 |
| 推荐 | 开关 | 是否首页推荐 |
| 状态 | 状态标签 | 启用/禁用 |
| 试玩次数 | 数字 | 累计试玩次数 |

##### 操作功能
- 新增游戏
- 编辑游戏
- 删除游戏（软删除，移入已删除列表）
- 批量导入（Excel）
- 批量删除

---

#### 3.4.3 已删除游戏

##### 功能说明
已删除游戏的回收站，支持恢复或彻底删除。

##### 列表字段
游戏列表字段 + 删除时间 + 删除操作人

##### 操作功能
- 恢复：恢复到游戏列表
- 彻底删除：永久删除，不可恢复

---

#### 3.4.4 推荐游戏

##### 功能说明
管理首页推荐位的游戏，支持多个推荐主题。

##### 推荐主题（Tab切换）
- 🔥 热门推荐
- ✨ 新游推荐
- ⭐ 今日必玩
- （可新增更多主题）

##### 列表字段
| 字段 | 说明 |
|------|------|
| 排序 | 显示顺序，支持拖拽排序 |
| 游戏封面 | 游戏图片 |
| 游戏名称 | 游戏名称 |
| 类别 | 所属分类 |
| 状态 | 启用/禁用 |

---

### 3.5 内容管理模块

#### 3.5.1 Banner管理

##### 功能说明
管理首页轮播Banner图片，配置跳转链接和按钮行为。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| 排序 | 数字 | 显示顺序，数字越小越靠前 |
| 预览 | 图片 | Banner缩略图预览 |
| 标题 | 文本 | Banner标题（如：新年活动） |
| 跳转链接 | 文本 | 点击Banner跳转的URL |
| 位置 | 下拉 | 首页轮播/活动页顶部 |
| 状态 | 状态标签 | 启用/禁用 |

##### 操作功能
- 新增Banner：上传图片、填写标题、配置跳转链接
- 编辑Banner：修改图片、标题、链接、状态
- 删除Banner：移除轮播图

##### 按钮跳转配置

| 配置项 | 说明 |
|--------|------|
| 立即试玩 跳转URL | 首页Banner"立即试玩"按钮跳转地址 |
| 了解更多 跳转URL | 首页Banner"了解更多"按钮跳转地址 |

---

#### 3.5.2 优惠活动管理

##### 功能说明
管理前端展示的优惠活动内容。

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| ID | 数字 | 自增ID |
| 封面 | 图片 | 活动封面图 |
| 活动标题 | 文本 | 活动名称 |
| 标签 | 标签 | 新人首存/会员专享/限时活动等 |
| 开始时间 | 时间 | 活动开始时间 |
| 结束时间 | 时间 | 活动结束时间（可设为"长期"） |
| 状态 | 状态标签 | 进行中/已结束/草稿 |

##### 操作功能
- 新增活动：上传封面、填写标题、设置时间
- 编辑活动：修改活动内容
- 删除活动：移除活动

---

#### 3.5.3 朋友圈动态管理

##### 功能说明
管理前端"朋友圈"页面展示的动态内容，支持多Tab分类。

##### Tab分类
- 官方动态：官方公告、活动通知
- 大舞台：用户展示、中奖喜报
- 公告中心：系统公告、维护通知

##### 列表字段

| 字段 | 类型 | 说明 |
|------|------|------|
| ID | 数字 | 自增ID |
| 发布者 | 文本 | 发布者名称（如：官方公告、系统通知） |
| 内容 | 文本 | 动态内容 |
| 点赞数 | 数字 | 点赞数量 |
| 发布时间 | 时间 | 发布时间 |
| 状态 | 状态标签 | 已发布/草稿 |

##### 操作功能
- 发布动态：选择分类、填写内容
- 编辑动态：修改内容
- 删除动态：移除动态

---

### 3.6 下游配置模块

#### 3.6.1 网页配置

##### 功能说明
配置用户点击"登录"/"注册"按钮时跳转的目标地址。

| 配置项 | 说明 |
|--------|------|
| Web端登录URL | PC网页端登录跳转URL，含推广参数 |
| H5端登录URL | 移动H5端登录跳转URL，含推广参数 |
| Web端注册URL | PC网页端注册跳转URL，含推广参数 |
| H5端注册URL | 移动H5端注册跳转URL，含推广参数 |

---

#### 3.6.2 APP配置

| 配置项 | 说明 |
|--------|------|
| iOS描述文件地址 | 企业签名描述文件下载URL |
| Android下载链接 | APK安装包下载URL |

---

#### 3.6.3 联系方式配置

##### 功能说明
配置显示在前端的客服、推广等联系方式。

##### 列表字段
| 字段 | 说明 |
|------|------|
| 类型 | Telegram/WhatsApp/Line/Zalo/其他 |
| 名称 | 前端显示名称 |
| 跳转链接 | 点击跳转地址 |
| 状态 | 启用/禁用 |

---

### 3.7 系统管理模块

#### 3.7.1 网站配置

| 配置项 | 说明 |
|--------|------|
| 网站名称 | 网站标题 |
| 网站副标题 | 网站口号 |
| 网站Logo | Logo图片 |
| 版权信息 | 底部版权文字 |

---

#### 3.7.2 站内信

##### 功能说明
向用户发送系统通知、公告等。

##### 列表字段
| 字段 | 说明 |
|------|------|
| ID | 自增ID |
| 标题 | 消息标题 |
| 接收对象 | 全部用户/注册用户/指定用户 |
| 发送时间 | 发送时间 |
| 状态 | 已发送/草稿 |

---

#### 3.7.3 IP白名单（登录必须）

##### 功能说明
**只有白名单内的IP才能登录后台**，这是系统安全的第一道防线。

##### 列表字段
| 字段 | 说明 |
|------|------|
| IP地址 | IP地址或网段（支持CIDR格式，如10.0.0.0/24） |
| 备注 | 备注说明（如：办公室IP、运营张三） |
| 创建时间 | 添加时间 |

##### 操作功能
- 添加IP：输入IP地址和备注
- 编辑：修改备注
- 删除：移除白名单（需二次确认）

##### 重要提示
> ⚠️ 删除IP前请确认该IP对应的用户已不需要登录后台，否则将无法登录！

---

### 3.8 站点管理（二期）

##### 功能说明
支持多域名、多站点管理，批量配置推广下发。

##### 预留功能
- 多域名管理
- 站点批量配置
- 推广链接批量下发

---

## 四、权限设计

### 4.1 角色权限矩阵

| 功能模块 | 超级管理员 | 运营 | 客服 |
|----------|-----------|------|------|
| 数据统计 | ✅ 全部 | ✅ 查看 | ❌ |
| 后台用户 | ✅ 全部 | ❌ | ❌ |
| 试玩用户 | ✅ 全部 | ✅ 查看 | ✅ 查看 |
| 注册用户 | ✅ 全部 | ✅ 查看/编辑 | ✅ 查看 |
| 游戏管理 | ✅ 全部 | ✅ 全部 | ❌ |
| 内容管理 | ✅ 全部 | ✅ 全部 | ❌ |
| 下游配置 | ✅ 全部 | ✅ 查看 | ❌ |
| 系统管理 | ✅ 全部 | ❌ | ❌ |
| IP白名单 | ✅ 全部 | ❌ | ❌ |

---

## 五、安全设计

### 5.1 登录安全

| 安全措施 | 说明 |
|----------|------|
| IP白名单 | 第一道防线，非白名单IP直接拒绝登录 |
| 账号密码 | 第二道防线，验证身份 |
| Google验证 | 第三道防线，动态验证码 |
| 登录日志 | 记录所有登录尝试（成功/失败） |

### 5.2 操作安全

| 安全措施 | 说明 |
|----------|------|
| 操作日志 | 记录关键操作（增删改） |
| 二次确认 | 删除等危险操作需二次确认 |
| 权限控制 | 基于角色的访问控制 |

---

## 六、原型文件

### 6.1 文件清单

| 文件名 | 说明 |
|--------|------|
| **admin-all-in-one.html** | **合并版（推荐）**：包含登录+全部后台页面，单文件可演示 |
| index.html | 登录页（独立版） |
| dashboard.html | 数据看板（独立版） |
| admin-users.html | 后台用户管理（独立版） |
| trial-users.html | 试玩用户管理（独立版） |
| reg-users.html | 注册用户管理（独立版） |
| game-category.html | 游戏类别管理（独立版） |
| game-list.html | 游戏列表管理（独立版） |
| game-deleted.html | 已删除游戏（独立版） |
| game-recommend.html | 推荐游戏（独立版） |
| config-web.html | 下游配置（独立版） |
| sys-config.html | 系统管理（独立版） |

### 6.2 使用说明

**推荐使用合并版：**
1. 打开 `admin-all-in-one.html`
2. 默认已填入账号密码，直接点击 Login
3. 左侧菜单点击切换各功能模块
4. 包含真实图表数据展示（ECharts折线图、柱状图）

---

## 七、设计规范

### 7.1 色彩规范

| 用途 | 色值 |
|------|------|
| 主色 | #409EFF |
| 成功 | #67C23A |
| 警告 | #E6A23C |
| 危险 | #F56C6C |
| 背景 | #F5F7FA |
| 侧边栏 | #304156 |


---

